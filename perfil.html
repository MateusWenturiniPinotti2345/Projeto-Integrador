<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Perfil do Cliente - Hamburgueria</title>
  <link rel="icon" type="image/png" href="fotos/diet.png">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <style>
    /* Foto de perfil */
    .foto-perfil {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid #ff6600;
      display: block;
      margin: 0 auto 10px auto;
      background-color: #f0f0f0;
    }
    .btn-upload {
      display: block;
      margin: 0 auto 20px auto;
      font-size: 0.9rem;
    }
  </style>
</head>
<body>

<!-- Cabeçalho -->
<header class="bg-dark text-white p-3 d-flex justify-content-between align-items-center">
  <div class="d-flex align-items-center w-100">
    <input type="text" class="form-control me-3" placeholder="Buscar..." style="max-width: 400px;">
    <nav class="ms-auto">
      <a href="telapedidos.html" class="text-white me-3">Início</a>
      <a href="pedidos.html" class="text-white me-3">Pedidos</a>
      <a href="perfil.html" class="text-white fw-bold text-decoration-underline">Perfil</a>
    </nav>
  </div>
</header>

<!-- Conteúdo principal -->
<div class="container mt-4 mb-5">
  <div class="row justify-content-center">
    <div class="col-lg-6">
      <div class="card shadow-sm p-4">
        <h4 class="text-center mb-4">Meu Perfil</h4>

        <!-- Foto de perfil -->
        <img id="imgPerfil" class="foto-perfil" src="foto/user.png" alt="Foto do Perfil">
        <input type="file" id="inputFoto" accept="image/*" class="form-control btn-upload" onchange="alterarFoto()">

        <!-- Dados do cliente -->
        <form id="formPerfil">
          <div class="mb-3">
            <label for="nome" class="form-label">Nome completo</label>
            <input type="text" class="form-control" id="nome" placeholder="Seu nome completo">
          </div>
          <div class="mb-3">
            <label for="email" class="form-label">E-mail</label>
            <input type="email" class="form-control" id="email" placeholder="exemplo@email.com">
          </div>
          <div class="mb-3">
            <label for="telefone" class="form-label">Telefone</label>
            <input type="text" class="form-control" id="telefone" placeholder="(00) 00000-0000">
          </div>
          <div class="mb-3">
            <label for="endereco" class="form-label">Endereço principal</label>
            <input type="text" class="form-control" id="endereco" placeholder="Rua, número, bairro...">
          </div>
          <button type="button" class="btn btn-warning w-100" onclick="salvarPerfil()">Salvar Alterações</button>
        </form>
      </div>

      <div class="card shadow-sm p-4 mt-4">
        <h5 class="text-center mb-3">Alterar Senha</h5>
        <form id="formSenha">
          <div class="mb-3">
            <label for="senhaAtual" class="form-label">Senha atual</label>
            <input type="password" class="form-control" id="senhaAtual">
          </div>
          <div class="mb-3">
            <label for="novaSenha" class="form-label">Nova senha</label>
            <input type="password" class="form-control" id="novaSenha">
          </div>
          <div class="mb-3">
            <label for="confirmarSenha" class="form-label">Confirmar nova senha</label>
            <input type="password" class="form-control" id="confirmarSenha">
          </div>
          <button type="button" class="btn btn-primary w-100" onclick="alterarSenha()">Trocar Senha</button>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- Rodapé -->
<footer class="bg-dark text-white text-center py-3 mt-4">
  <p class="mb-0">© 2025 Hamburgueria. Todos os direitos reservados.</p>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
  // Carrega perfil salvo
  window.onload = function() {
    const perfil = JSON.parse(localStorage.getItem('perfil')) || {};
    if (perfil.nome) document.getElementById('nome').value = perfil.nome;
    if (perfil.email) document.getElementById('email').value = perfil.email;
    if (perfil.telefone) document.getElementById('telefone').value = perfil.telefone;
    if (perfil.endereco) document.getElementById('endereco').value = perfil.endereco;
    if (perfil.foto) document.getElementById('imgPerfil').src = perfil.foto;
  };

  // Salvar dados do cliente
  function salvarPerfil() {
    const perfil = {
      nome: document.getElementById('nome').value,
      email: document.getElementById('email').value,
      telefone: document.getElementById('telefone').value,
      endereco: document.getElementById('endereco').value,
      foto: document.getElementById('imgPerfil').src
    };
    localStorage.setItem('perfil', JSON.stringify(perfil));
    alert('Perfil atualizado com sucesso!');
  }

  // Alterar senha simulada
  function alterarSenha() {
    const atual = document.getElementById('senhaAtual').value;
    const nova = document.getElementById('novaSenha').value;
    const confirmar = document.getElementById('confirmarSenha').value;

    if (!atual || !nova || !confirmar) {
      alert('Preencha todos os campos.');
      return;
    }
    if (nova !== confirmar) {
      alert('As senhas não coincidem.');
      return;
    }
    alert('Senha alterada com sucesso!');
    document.getElementById('formSenha').reset();
  }

  // Troca de foto de perfil
  function alterarFoto() {
    const input = document.getElementById('inputFoto');
    const img = document.getElementById('imgPerfil');
    const file = input.files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = function(e) {
      img.src = e.target.result;
      const perfil = JSON.parse(localStorage.getItem('perfil')) || {};
      perfil.foto = e.target.result;
      localStorage.setItem('perfil', JSON.stringify(perfil));
    };
    reader.readAsDataURL(file);
  }
</script>
</body>
</html>


